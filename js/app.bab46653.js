(function(){"use strict";var e={2488:function(e,t,r){r(6699);var n=r(9242),s=r(65),o=r(3396),l=r(7139);const i={id:"header"},a={id:"game"},u={key:0,class:"guess"},d={id:"toast-container"},g={key:0,id:"toast"},c={id:"keyboard"},h=["onClick"];function w(e,t,r,n,s,w){return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",i,[(0,o._)("h1",null,(0,l.zw)(w.gameName),1),(0,o._)("p",null,(0,l.zw)(w.remainingWordsLength)+" words remaining",1)]),(0,o._)("div",a,[(0,o._)("div",{id:"game-container",class:(0,l.C_)({win:"win"==w.gameState,lose:"lose"==w.gameState})},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(w.guesses,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e,class:"guess"},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.word.length,((t,r)=>((0,o.wg)(),(0,o.iD)("div",{key:r,class:(0,l.C_)(["letter",{green:"green"==e.pattern[r],yellow:"yellow"==e.pattern[r],gray:"gray"==e.pattern[r]}])},(0,l.zw)(e.word[r]),3)))),128))])))),128)),w.guesses.length!=w.totalGuessCount?((0,o.wg)(),(0,o.iD)("div",u,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(w.letters,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e,class:"letter filled"},(0,l.zw)(e),1)))),128)),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(w.wordLength-w.letters.length,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e,class:(0,l.C_)(["letter",{active:1==e}])},null,2)))),128))])):(0,o.kq)("",!0),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(w.futureGuessCount,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e,class:"guess"},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(w.wordLength,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e,class:"letter future"})))),128))])))),128))],2)]),(0,o._)("div",d,[""!=w.toastText?((0,o.wg)(),(0,o.iD)("div",g,(0,l.zw)(w.toastText),1)):(0,o.kq)("",!0)]),(0,o._)("div",c,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(w.keyboardRows,((e,r)=>((0,o.wg)(),(0,o.iD)("div",{key:e,class:"row"},[r==w.keyboardRows.length-1?((0,o.wg)(),(0,o.iD)("div",{key:0,class:"key long",onClick:t[0]||(t[0]=e=>w.deleteLetter())}," del ")):(0,o.kq)("",!0),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e,class:(0,l.C_)(["key",{green:"green"==w.letterColors[e],yellow:"yellow"==w.letterColors[e],gray:"gray"==w.letterColors[e]}]),onClick:t=>w.enterLetter(e)},(0,l.zw)(e),11,h)))),128)),r==w.keyboardRows.length-1?((0,o.wg)(),(0,o.iD)("div",{key:1,class:"key long",onClick:t[1]||(t[1]=e=>w.enterGuess())}," ent ")):(0,o.kq)("",!0)])))),128))])],64)}var m={name:"App",mounted(){window.addEventListener("keydown",this.handleKeydown),this.$store.dispatch("fetchWords")},unmounted(){window.removeEventListener("keydown",this.handleKeydown)},computed:{gameName(){return this.$store.state.gameName},wordLength(){return this.$store.state.wordLength},totalGuessCount(){return this.$store.state.totalGuessCount},futureGuessCount(){return Math.max(0,this.$store.state.totalGuessCount-this.$store.state.guesses.length-1)},letters(){return this.$store.state.letters},guesses(){return this.$store.state.guesses},keyboardRows(){return this.$store.state.keyboardRows},letterColors(){return this.$store.state.letterColors},remainingWordsLength(){return this.$store.state.remainingWords?this.$store.state.remainingWords.length:"..."},wordSamples(){if(this.$store.state.remainingWords){var e=this.$store.state.remainingWords.map((e=>({value:e,sort:Math.random()}))).sort(((e,t)=>e.sort-t.sort)).map((({value:e})=>e));return e.slice(0,3)}return"..."},gameState(){return this.$store.state.gameState},toastText(){return"win"==this.$store.state.gameState?"You win!":"lose"==this.$store.state.gameState?"You lose!":""}},methods:{handleKeydown(e){!(e.altKey||e.ctrlKey||e.metaKey||e.repeat)&&this.$store.state.guesses.length<this.$store.state.totalGuessCount&&(e.key>="a"&&e.key<="z"?this.$store.commit("enterLetter",e.key):"Backspace"==e.key?this.$store.commit("deleteLetter"):"Enter"==e.key&&this.$store.commit("enterGuess"))},enterLetter(e){this.$store.commit("enterLetter",e)},deleteLetter(){this.$store.commit("deleteLetter")},enterGuess(){this.$store.commit("enterGuess")}}},f=r(89);const y=(0,f.Z)(m,[["render",w]]);var p=y,v=r(6265),k=r.n(v),C=r(6423);function b(e,t){const r=e.split("").map((()=>"gray")),n=t.split("");for(var s=0;s<e.length;s++)e.charAt(s)==n[s]&&(r[s]="green",n[s]=null);for(s=0;s<e.length;s++)if("green"!=r[s]){const t=n.indexOf(e.charAt(s));-1!=t&&(r[s]="yellow",n[t]=null)}return r}function $(e,t){const r={};for(const i of t){const t=b(e,i);t in r||(r[t]=[]),r[t].push(i)}var n,s,o=0;const l=e.split("").map((()=>"green"));for(const[i,a]of Object.entries(r))console.log(i,a.length),console.log(l.join(","),i===l.join(",")),a.length>o&&i!==l.join(",")&&(console.log("chosen"),o=a.length,n=i,s=a);return n?[n.split(","),s]:[l,r[l.join(",")]]}const L=(0,s.MT)({state:{gameName:"Evil Wordle",wordLength:5,totalGuessCount:6,gameState:"playing",guesses:[],letters:[],letterColors:{},keyboardRows:[["q","w","e","r","t","y","u","i","o","p"],["a","s","d","f","g","h","j","k","l"],["z","x","c","v","b","n","m"]],allWords:null,remainingWords:null},mutations:{populateAllWords(e,t){e.allWords=t,e.remainingWords=t.filter((t=>t.length==e.wordLength))},enterLetter(e,t){e.letters.length<e.wordLength&&e.letters.push(t)},deleteLetter(e){e.letters.length>0&&e.letters.pop()},enterGuess(e){const t=e.letters.join("");if(t.length==e.wordLength&&e.allWords.includes(t)){const[n,s]=$(t,e.remainingWords);for(var r=0;r<e.wordLength;r++)e.letters[r]in e.letterColors?"yellow"==e.letterColors[e.letters[r]]&&"green"==n[r]&&(e.letterColors[e.letters[r]]="green"):e.letterColors[e.letters[r]]=n[r];const o={word:t,pattern:n};e.guesses.push(o),e.letters=[],e.remainingWords=s,console.log(n,e.remainingWords.length,e.remainingWords),n.every((e=>"green"==e))?e.gameState="win":e.guesses.length==e.totalGuessCount&&(e.gameState="lose")}}},actions:{fetchWords({commit:e}){k().get("words.txt").then((e=>e.data)).then((e=>e.split("\n"))).then((e=>e.map((e=>e.toLowerCase())))).then((t=>e("populateAllWords",t)))}}}),D=(0,n.ri)(p);D.use(L),D.use(C.Z,k()),D.mount("#app")}},t={};function r(n){var s=t[n];if(void 0!==s)return s.exports;var o=t[n]={id:n,loaded:!1,exports:{}};return e[n](o,o.exports,r),o.loaded=!0,o.exports}r.m=e,function(){r.amdO={}}(),function(){var e=[];r.O=function(t,n,s,o){if(!n){var l=1/0;for(d=0;d<e.length;d++){n=e[d][0],s=e[d][1],o=e[d][2];for(var i=!0,a=0;a<n.length;a++)(!1&o||l>=o)&&Object.keys(r.O).every((function(e){return r.O[e](n[a])}))?n.splice(a--,1):(i=!1,o<l&&(l=o));if(i){e.splice(d--,1);var u=s();void 0!==u&&(t=u)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[n,s,o]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.hmd=function(e){return e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e}}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var s,o,l=n[0],i=n[1],a=n[2],u=0;if(l.some((function(t){return 0!==e[t]}))){for(s in i)r.o(i,s)&&(r.m[s]=i[s]);if(a)var d=a(r)}for(t&&t(n);u<l.length;u++)o=l[u],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(d)},n=self["webpackChunkevil_wordle"]=self["webpackChunkevil_wordle"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=r.O(void 0,[998],(function(){return r(2488)}));n=r.O(n)})();
//# sourceMappingURL=app.bab46653.js.map